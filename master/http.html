

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Rasa NLU as a HTTP server &mdash; Rasa NLU 10.12.3+project_manager.worker_interfaces documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rasa NLU 10.12.3+project_manager.worker_interfaces documentation" href="index.html"/>
        <link rel="next" title="Using Rasa NLU from python" href="python.html"/>
        <link rel="prev" title="Training and Data Format" href="dataformat.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rasa NLU
          

          
          </a>

          
            
            
              <div class="version">
                10.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial: A simple restaurant search bot</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating an existing app</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataformat.html">Training and Data Format</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Rasa NLU as a HTTP server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-the-server">Running the server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#emulation">Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#endpoints">Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#post-parse-no-emulation"><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/parse</span></code> (no emulation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#post-train"><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/train</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#post-evaluate"><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/evaluate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-status"><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-version"><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/version</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-config"><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/config</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-models"><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/models</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#authorization">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serving-multiple-apps">Serving Multiple Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-parameters">Server Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Using Rasa NLU from python</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html">Entity Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="closeloop.html">Improving your models from feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="persist.html">Model Persistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="languages.html">Language Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Processing Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation.html">Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">Context-aware Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community Contributions</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rasa NLU</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using Rasa NLU as a HTTP server</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/http.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="using-rasa-nlu-as-a-http-server">
<span id="section-http"></span><h1>Using Rasa NLU as a HTTP server<a class="headerlink" href="#using-rasa-nlu-as-a-http-server" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before you can use the server, you should train a model!
See <a class="reference internal" href="tutorial.html#training-your-model"><span class="std std-ref">Training a New Model for your Project</span></a></p>
</div>
<p>The HTTP api exists to make it easy for non-python projects to use Rasa NLU,
and to make it trivial for projects currently using wit/LUIS/Dialogflow
to try it out.</p>
<div class="section" id="running-the-server">
<h2>Running the server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h2>
<p>You can run a simple http server that handles requests using your projects with :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python -m rasa_nlu.server --path projects
</pre></div>
</div>
<p>The server will look for existing projects under the folder defined by
the <code class="docutils literal"><span class="pre">path</span></code> parameter. By default a project will load the latest
trained model.</p>
</div>
<div class="section" id="emulation">
<h2>Emulation<a class="headerlink" href="#emulation" title="Permalink to this headline">¶</a></h2>
<p>Rasa NLU can &#8216;emulate&#8217; any of these three services by making the <code class="docutils literal"><span class="pre">/parse</span></code>
endpoint compatible with your existing code. To activate this, either add
<code class="docutils literal"><span class="pre">'emulate'</span> <span class="pre">:</span> <span class="pre">'luis'</span></code> to your config file or run the server with <code class="docutils literal"><span class="pre">-e</span> <span class="pre">luis</span></code>.
For example, if you would normally send your text to be parsed to LUIS,
you would make a <code class="docutils literal"><span class="pre">GET</span></code> request to</p>
<p><code class="docutils literal"><span class="pre">https://api.projectoxford.ai/luis/v2.0/apps/&lt;app-id&gt;?q=hello%20there</span></code></p>
<p>in luis emulation mode you can call Rasa by just sending this request to</p>
<p><code class="docutils literal"><span class="pre">http://localhost:5000/parse?q=hello%20there</span></code></p>
<p>any extra query params are ignored by rasa, so you can safely send them along.</p>
<p>To use the emulation, pass the emulation mode to the server script:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python -m rasa_nlu.server --path projects --emulate wit
</pre></div>
</div>
</div>
<div class="section" id="endpoints">
<h2>Endpoints<a class="headerlink" href="#endpoints" title="Permalink to this headline">¶</a></h2>
<div class="section" id="post-parse-no-emulation">
<h3><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/parse</span></code> (no emulation)<a class="headerlink" href="#post-parse-no-emulation" title="Permalink to this headline">¶</a></h3>
<p>You must POST data in this format <code class="docutils literal"><span class="pre">'{&quot;q&quot;:&quot;&lt;your</span> <span class="pre">text</span> <span class="pre">to</span> <span class="pre">parse&gt;&quot;}'</span></code>,
you can do this with</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XPOST localhost:5000/parse -d <span class="s1">&#39;{&quot;q&quot;:&quot;hello there&quot;}&#39;</span>
</pre></div>
</div>
<p>By default, when the project is not specified in the query, the
<code class="docutils literal"><span class="pre">&quot;default&quot;</span></code> one will be used.
You can (should) specify the project you want to use in your query :</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -XPOST localhost:5000/parse -d <span class="s1">&#39;{&quot;q&quot;:&quot;hello there&quot;, &quot;project&quot;: &quot;my_restaurant_search_bot&quot;}&#39;</span>
</pre></div>
</div>
<p>By default the latest trained model for the project will be loaded.
You can also query against a specific model for a project :</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -XPOST localhost:5000/parse -d <span class="s1">&#39;{&quot;q&quot;:&quot;hello there&quot;, &quot;project&quot;: &quot;my_restaurant_search_bot&quot;, &quot;model&quot;: &quot;&lt;model_XXXXXX&gt;&quot;}&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="post-train">
<h3><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/train</span></code><a class="headerlink" href="#post-train" title="Permalink to this headline">¶</a></h3>
<p>You can post your training data to this endpoint to train a new model for a project.
This request will wait for the server answer: either the model
was trained successfully or the training exited with an error.
Using the HTTP server, you must specify the project you want to train a
new model for to be able to use it during parse requests later on :
<code class="docutils literal"><span class="pre">/train?project=my_project</span></code>. The configuration of the model should be
posted as the content of the request:</p>
<p><strong>Using training data in json format</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">language</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span>

<span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;spacy_sklearn&quot;</span>

<span class="c1"># data contains the same json, as described in the training data section</span>
<span class="n">data</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;rasa_nlu_data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;common_examples&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;hey&quot;</span><span class="p">,</span>
        <span class="s2">&quot;intent&quot;</span><span class="p">:</span> <span class="s2">&quot;greet&quot;</span><span class="p">,</span>
        <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="p">[]</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Using training data in md format</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">language</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span>

<span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;spacy_sklearn&quot;</span>

<span class="c1"># data contains the same md, as described in the training data section</span>
<span class="n">data</span><span class="p">:</span> <span class="o">|</span>
  <span class="c1">## intent:affirm</span>
  <span class="o">-</span> <span class="n">yes</span>
  <span class="o">-</span> <span class="n">yep</span>

  <span class="c1">## intent:goodbye</span>
  <span class="o">-</span> <span class="n">bye</span>
  <span class="o">-</span> <span class="n">goodbye</span>
</pre></div>
</div>
<p>Here is an example request showcasing how to send the config to the server
to start the training:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XPOST -H <span class="s2">&quot;Content-Type: application/x-yml&quot;</span> localhost:5000/train?project<span class="o">=</span>my_project <span class="se">\</span>
    -d @sample_configs/config_train_server_md.yml
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot send a training request for a project
already training a new model (see below).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The server will automatically generate a name for the trained model. If
you want to set the name yourself, call the endpoint using
<code class="docutils literal"><span class="pre">localhost:5000/train?project=my_project&amp;model=my_model_name</span></code></p>
</div>
</div>
<div class="section" id="post-evaluate">
<h3><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/evaluate</span></code><a class="headerlink" href="#post-evaluate" title="Permalink to this headline">¶</a></h3>
<p>You can use this endpoint to evaluate data on a model. The query string
takes the <code class="docutils literal"><span class="pre">project</span></code> (required) and a <code class="docutils literal"><span class="pre">model</span></code> (optional). You must
specify the project in which the model is located. N.b. if you don&#8217;t specify
a model, the latest one will be selected. This endpoint returns some common
sklearn  evaluation metrics (<a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.accuracy_score.html#sklearn.metrics.accuracy_score">accuracy</a>, <a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html">f1 score</a>,
<a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html">precision</a>, as well as
a summary <a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html">report</a>).</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XPOST localhost:5000/evaluate?project<span class="o">=</span>my_project<span class="p">&amp;</span><span class="nv">model</span><span class="o">=</span>model_XXXXXX -d @data/examples/rasa/demo-rasa.json <span class="p">|</span> python -mjson.tool

<span class="o">{</span>
    <span class="s2">&quot;accuracy&quot;</span>: <span class="m">0</span>.19047619047619047,
    <span class="s2">&quot;f1_score&quot;</span>: <span class="m">0</span>.06095238095238095,
    <span class="s2">&quot;precision&quot;</span>: <span class="m">0</span>.036281179138321996,
    <span class="s2">&quot;predictions&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">&quot;intent&quot;</span>: <span class="s2">&quot;greet&quot;</span>,
            <span class="s2">&quot;predicted&quot;</span>: <span class="s2">&quot;greet&quot;</span>,
            <span class="s2">&quot;text&quot;</span>: <span class="s2">&quot;hey&quot;</span>,
            <span class="s2">&quot;confidence&quot;</span>: <span class="m">1</span>.0
        <span class="o">}</span>,
        ...,
    <span class="o">]</span>
    <span class="s2">&quot;report&quot;</span>: ...
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-status">
<h3><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/status</span></code><a class="headerlink" href="#get-status" title="Permalink to this headline">¶</a></h3>
<p>This returns all the currently available projects, their status (<code class="docutils literal"><span class="pre">training</span></code> or <code class="docutils literal"><span class="pre">ready</span></code>) and their models loaded in memory.
also returns a list of available projects the server can use to fulfill <code class="docutils literal"><span class="pre">/parse</span></code> requests.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl localhost:5000/status <span class="p">|</span> python -mjson.tool

<span class="o">{</span>
  <span class="s2">&quot;available_projects&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;my_restaurant_search_bot&quot;</span> : <span class="o">{</span>
      <span class="s2">&quot;status&quot;</span> : <span class="s2">&quot;ready&quot;</span>,
      <span class="s2">&quot;available_models&quot;</span> : <span class="o">[</span>
        &lt;model_XXXXXX&gt;,
        &lt;model_XXXXXX&gt;
      <span class="o">]</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-version">
<h3><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/version</span></code><a class="headerlink" href="#get-version" title="Permalink to this headline">¶</a></h3>
<p>This will return the current version of the Rasa NLU instance.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl localhost:5000/version <span class="p">|</span> python -mjson.tool
<span class="o">{</span>
  <span class="s2">&quot;version&quot;</span> : <span class="s2">&quot;0.8.2&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-config">
<h3><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/config</span></code><a class="headerlink" href="#get-config" title="Permalink to this headline">¶</a></h3>
<p>This will return the default model configuration of the Rasa NLU instance.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl localhost:5000/config <span class="p">|</span> python -mjson.tool
<span class="o">{</span>
    <span class="s2">&quot;config&quot;</span>: <span class="s2">&quot;/app/rasa_shared/config_mitie.json&quot;</span>,
    <span class="s2">&quot;data&quot;</span>: <span class="s2">&quot;/app/rasa_nlu/data/examples/rasa/demo-rasa.json&quot;</span>,
    <span class="s2">&quot;duckling_dimensions&quot;</span>: null,
    <span class="s2">&quot;emulate&quot;</span>: null,
    ...
  <span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="delete-models">
<h3><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/models</span></code><a class="headerlink" href="#delete-models" title="Permalink to this headline">¶</a></h3>
<p>This will unload a model from the server memory</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -X DELETE localhost:5000/models -d <span class="s1">&#39;{&quot;project&quot;: &quot;my_restaurant_search_bot&quot;, &quot;model&quot;: &lt;model_XXXXXX&gt;}&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="authorization">
<span id="section-auth"></span><h2>Authorization<a class="headerlink" href="#authorization" title="Permalink to this headline">¶</a></h2>
<p>To protect your server, you can specify a token in your Rasa NLU configuration, e.g. by adding <code class="docutils literal"><span class="pre">&quot;token&quot;</span> <span class="pre">:</span> <span class="pre">&quot;12345&quot;</span></code> to your config file, or by setting the <code class="docutils literal"><span class="pre">RASA_TOKEN</span></code> environment variable.
If set, this token must be passed as a query parameter in all requests, e.g. :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl localhost:5000/status?token<span class="o">=</span><span class="m">12345</span>
</pre></div>
</div>
<p>On default CORS (cross-origin resource sharing) calls are not allowed. If you want to call your Rasa NLU server from another domain (for example from a training web UI) then you can whitelist that domain by adding it to the config value <code class="docutils literal"><span class="pre">cors_origin</span></code>.</p>
</div>
<div class="section" id="serving-multiple-apps">
<span id="section-http-config"></span><h2>Serving Multiple Apps<a class="headerlink" href="#serving-multiple-apps" title="Permalink to this headline">¶</a></h2>
<p>Depending on your choice of backend, Rasa NLU can use quite a lot of memory.
So if you are serving multiple models in production, you want to serve these
from the same process &amp; avoid duplicating the memory load.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although this saves the backend from loading the same backend twice, it still needs to load one set of
word vectors (which make up most of the memory consumption) per language and backend.</p>
</div>
<p>As stated previously, Rasa NLU naturally handles serving multiple apps : by default the server will load all projects found
under the <code class="docutils literal"><span class="pre">path</span></code> directory defined in the configuration. The file structure under <code class="docutils literal"><span class="pre">path</span> <span class="pre">directory</span></code> is as follows :</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>- &lt;path&gt;
 - &lt;project_A&gt;
  - &lt;model_XXXXXX&gt;
  - &lt;model_XXXXXX&gt;
   ...
 - &lt;project_B&gt;
  - &lt;model_XXXXXX&gt;
   ...
  ...
</pre></div>
</div>
<p>So you can specify which one to use in your <code class="docutils literal"><span class="pre">/parse</span></code> requests:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> curl <span class="s1">&#39;localhost:5000/parse?q=hello&amp;project=my_restaurant_search_bot&#39;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -XPOST localhost:5000/parse -d <span class="s1">&#39;{&quot;q&quot;:&quot;I am looking for Chinese food&quot;, &quot;project&quot;:&quot;my_restaurant_search_bot&quot;}&#39;</span>
</pre></div>
</div>
<p>You can also specify the model you want to use for a given project, the default used being the latest trained :</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -XPOST localhost:5000/parse -d <span class="s1">&#39;{&quot;q&quot;:&quot;I am looking for Chinese food&quot;, &quot;project&quot;:&quot;my_restaurant_search_bot&quot;, &quot;model&quot;:&lt;model_XXXXXX&gt;}&#39;</span>
</pre></div>
</div>
<p>If no project is to be found by the server under the <code class="docutils literal"><span class="pre">path</span></code> directory, a <code class="docutils literal"><span class="pre">&quot;default&quot;</span></code> one will be used, using a simple fallback model.</p>
</div>
<div class="section" id="server-parameters">
<span id="id1"></span><h2>Server Parameters<a class="headerlink" href="#server-parameters" title="Permalink to this headline">¶</a></h2>
<p>There are a number of parameters you can pass when running the server.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m rasa_nlu.server
</pre></div>
</div>
<p>Here is a quick overview:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>usage: server.py [-h] [-e {wit,luis,dialogflow}] [-P PORT]
                 [--pre_load PRE_LOAD [PRE_LOAD ...]] [-t TOKEN] [-w WRITE]
                 --path PATH [--cors [CORS [CORS ...]]]
                 [--max_training_processes MAX_TRAINING_PROCESSES]
                 [--num_threads NUM_THREADS] [--response_log RESPONSE_LOG]
                 [--storage STORAGE] [-c CONFIG] [--debug] [-v]

parse incoming text

optional arguments:
  -h, --help            show this help message and exit
  -e {wit,luis,dialogflow}, --emulate {wit,luis,dialogflow}
                        which service to emulate (default: None i.e. use
                        simple built in format)
  -P PORT, --port PORT  port on which to run server
  --pre_load PRE_LOAD [PRE_LOAD ...]
                        Preload models into memory before starting the server.
                        If given `all` as input all the models will be loaded.
                        Else you can specify a list of specific project names.
                        Eg: python -m rasa_nlu.server -p project1 project2
                        --path projects
  -t TOKEN, --token TOKEN
                        auth token. If set, reject requests which don&#39;t
                        provide this token as a query parameter
  -w WRITE, --write WRITE
                        file where logs will be saved
  --path PATH           working directory of the server. Models areloaded from
                        this directory and trained models will be saved here.
  --cors [CORS [CORS ...]]
                        List of domain patterns from where CORS (cross-origin
                        resource sharing) calls are allowed. The default value
                        is `[]` which forbids all CORS requests.
  --max_training_processes MAX_TRAINING_PROCESSES
                        Number of processes used to handle training requests.
                        Increasing this value will have a great impact on
                        memory usage. It is recommended to keep the default
                        value.
  --num_threads NUM_THREADS
                        Number of parallel threads to use for handling parse
                        requests.
  --response_log RESPONSE_LOG
                        Directory where logs will be saved (containing queries
                        and responses).If set to ``null`` logging will be
                        disabled.
  --storage STORAGE     Set the remote location where models are stored. E.g.
                        on AWS. If nothing is configured, the server will only
                        serve the models that are on disk in the configured
                        `path`.
  -c CONFIG, --config CONFIG
                        Default model configuration file used for training.
  --debug               Print lots of debugging statements. Sets logging level
                        to DEBUG
  -v, --verbose         Be verbose. Sets logging level to INFO
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python.html" class="btn btn-neutral float-right" title="Using Rasa NLU from python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dataformat.html" class="btn btn-neutral" title="Training and Data Format" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Rasa Technologies GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="http.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'10.12.3+project_manager.worker_interfaces',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-87333416-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments)};
gtag('js', new Date());

gtag('config', 'UA-87333416-1');
</script>
<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0074/3851.js" async="async"></script>


</body>
</html>